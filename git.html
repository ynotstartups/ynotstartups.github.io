<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Git</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="https://d392viioakuayd.cloudfront.net/public/favicon.webp">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Git</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#git---how-to" id="toc-git---how-to">Git - How To</a></li>
<li><a href="#use-reset-soft-mixed-hard"
id="toc-use-reset-soft-mixed-hard">use <code>reset</code> soft mixed
hard</a></li>
<li><a href="#rebase-with-fixing-conflicts-by-always-using-a-branch"
id="toc-rebase-with-fixing-conflicts-by-always-using-a-branch"><code>rebase</code>
with fixing conflicts by always using a branch</a></li>
<li><a href="#git---explanation" id="toc-git---explanation">Git -
Explanation</a></li>
<li><a href="#understanding-git-log"
id="toc-understanding-git-log">understanding git log</a></li>
<li><a href="#checkout-replaced-by-switch-and-restore"
id="toc-checkout-replaced-by-switch-and-restore"><code>checkout</code>
replaced by <code>switch</code> and <code>restore</code></a></li>
<li><a href="#vs-..." id="toc-vs-..."><code>..</code> vs
<code>...</code></a>
<ul>
<li><a href="#to-see-the-code-diff-in-feature-branch"
id="toc-to-see-the-code-diff-in-feature-branch">To see the code diff in
<code>feature</code> branch?</a></li>
<li><a href="#to-see-the-commits-added-in-feature-branch"
id="toc-to-see-the-commits-added-in-feature-branch">To see the commits
added in <code>feature</code> branch?</a></li>
<li><a href="#explanation-for-git-diff"
id="toc-explanation-for-git-diff">Explanation for
<code>git diff</code></a></li>
<li><a href="#note-that-and-..-dont-have-the-same-meaning-in-git-log"
id="toc-note-that-and-..-dont-have-the-same-meaning-in-git-log">Note
that … and .. don’t have the same meaning in git log</a></li>
<li><a href="#explanation-for-git-log"
id="toc-explanation-for-git-log">Explanation for
<code>git log</code></a></li>
<li><a href="#see-also" id="toc-see-also">See also</a></li>
</ul></li>
</ul>
</nav>
<h1 id="git---how-to">Git - How To</h1>
<h1 id="use-reset-soft-mixed-hard">use <code>reset</code> soft mixed
hard</h1>
<blockquote>
<p>Reset, restore and revert There are three commands with similar
names: git reset, git restore and git revert. • git-revert(1) is about
making a new commit that reverts the changes made by other commits. •
git-restore(1) is about restoring files in the working tree from either
the index or another commit. This command does not update your branch.
The command can also be used to restore files in the index from another
commit. • git-reset(1) is about updating your branch, moving the tip in
order to add or remove commits from the branch. This operation changes
the commit history. git reset can also be used to restore the index,
overlapping with git restore.</p>
</blockquote>
<ul>
<li><code>git reset --soft    &lt;commit&gt;</code> - changes HEAD to
point to commit, put changes at index</li>
<li><code>git reset [--mixed] &lt;commit&gt;</code> - changes HEAD to
point to commit, makes index look like HEAD</li>
<li><code>git reset --hard    &lt;commit&gt;</code> - changes HEAD to
point to commit, discard changes in index and work directory</li>
</ul>
<p>Conclusion, it’s still too difficult to understand
<code>git reset</code>, hmm, just stay away from
<code>git reset</code>.</p>
<p>If I want to change branch, uses <code>git rebase</code> with fixup
or squash.</p>
<h1
id="rebase-with-fixing-conflicts-by-always-using-a-branch"><code>rebase</code>
with fixing conflicts by always using a branch</h1>
<ul>
<li><code>git rebase -X ours -i origin/development</code>
<ul>
<li>on merge conflicts, use origin/development</li>
</ul></li>
<li><code>git rebase -X theirs -i origin/development</code>
<ul>
<li>on merge conflicts, use my branch</li>
</ul></li>
</ul>
<h1 id="git---explanation">Git - Explanation</h1>
<h1 id="understanding-git-log">understanding git log</h1>
<ol type="1">
<li>commit object filename/hash <code>5a761fe</code> actually sits in
<code>.git/objects/5a/761</code></li>
<li><code>index a871d21e..00000000</code> means
<code>file hash before commit..file hash after commit</code>
<ul>
<li><code>a871d21e</code> is the object representing the file,
<code>000000</code> is no index /dev/null, this means deleting a
file.</li>
<li>If it’s new file it would be <code>00000000..a871d21e</code></li>
<li>If it’s change of some file contents, not new or delete, it would be
<code>hash..hash</code> e.g. <code>abcs23rr..a871d21e</code></li>
</ul></li>
</ol>
<pre class="git"><code>commit 5a761fe301ebfe45e0a72d99e619102cba149e6d (HEAD -&gt; ON-1987-tiger-test-remove-aws-credentials, origin/ON-1987-tiger-test-remove-aws-credentials) 
Author: ynotstartups &lt;ynotstartups@gmail.com&gt;
Date:   Tue Aug 8 18:15:54 2023 +0100

    remove not needed configure_aws.sh

    The following environment variables are provided in github action
    aws-actions/configure-aws-credentials@v2 used in docker-compose-dev.yml

diff --git a/.github/configure_aws.sh b/.github/configure_aws.sh
deleted file mode 100644
index a871d21e..00000000
--- a/.github/configure_aws.sh
+++ /dev/null
@@ -1,13 +0,0 @@
-#!/bin/sh
-set -eu
-
-export_aws_credentials () {
-   awsProfile=${AWS_PROFILE:-default}
-   AWS_ACCESS_KEY_ID=$(aws --profile &quot;$awsProfile&quot; configure get aws_access_key_id)
-   AWS_SECRET_ACCESS_KEY=$(aws --profile &quot;$awsProfile&quot; configure get aws_secret_access_key)
-   AWS_SESSION_TOKEN=$(aws --profile &quot;$awsProfile&quot; configure get aws_session_token)
-   export AWS_ACCESS_KEY_ID AWS_SECRET_ACCESS_KEY AWS_SESSION_TOKEN
-
-}
-
-export_aws_credentials</code></pre>
<h1 id="checkout-replaced-by-switch-and-restore"><code>checkout</code>
replaced by <code>switch</code> and <code>restore</code></h1>
<p>Since git version 2.23.0, see <a
href="https://github.com/git/git/blob/master/Documentation/RelNotes/2.23.0.txt#L61-L65">changelog</a>,
all functionalities of <code>git checkout</code> is replaced by
<code>git restore</code> and <code>git switch</code>, make
<code>git checkout</code> obsolete.</p>
<blockquote>
<p>Two new commands “git switch” and “git restore” are introduced to
split “checking out a branch to work on advancing its history” and
“checking out paths out of the index and/or a tree-ish to work on
advancing the current history” out of the single “git checkout”
command.</p>
</blockquote>
<p>for example,</p>
<p><code>git checkout &lt;commit&gt;</code> is replaced by
<code>git switch</code> for</p>
<p><code>git checkout [commit] &lt;paths&gt;</code> is replaced by
<code>git restore</code></p>
<h1 id="vs-..."><code>..</code> vs <code>...</code></h1>
<h2 id="to-see-the-code-diff-in-feature-branch">To see the code diff in
<code>feature</code> branch?</h2>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> diff master...feature</span></code></pre></div>
<h2 id="to-see-the-commits-added-in-feature-branch">To see the commits
added in <code>feature</code> branch?</h2>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log master..feature</span></code></pre></div>
<h2 id="explanation-for-git-diff">Explanation for
<code>git diff</code></h2>
<p>Use the three dots like this
<code>git diff [&lt;options&gt;] &lt;commit&gt;...&lt;commit&gt;</code>.</p>
<pre><code>  B---C---D master (Branch)
 /
A
 \
  H---I feature (Branch)</code></pre>
<p>Two dots - show the diffs between all changes on both sides, use the
<code>git diff master..feature</code>, output: (diff of
<code>H, I</code> against <code>B, C, D</code>)</p>
<p>Three dots - to show the diffs between the last common ancestor (A),
aka the commit we started the feature branch, use
<code>git diff master...feature</code>, output: (diff of
<code>H, I</code> against <code>A</code>).</p>
<h2 id="note-that-and-..-dont-have-the-same-meaning-in-git-log">Note
that … and .. don’t have the same meaning in git log</h2>
<blockquote>
<p>However, “diff” is about comparing two endpoints, not ranges, and the
range notations (“<commit>..<commit>” and “<commit>…<commit>”) do not
mean a range as defined in the “SPECIFYING RANGES” section in
gitrevisions[7].</p>
<p>from <code>git diff --help</code></p>
</blockquote>
<h2 id="explanation-for-git-log">Explanation for
<code>git log</code></h2>
<p>Kind of like reversing the meaning for <code>...</code> and
<code>..</code> in <code>git diff</code></p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log master..feature</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent to</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log ^master feature</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># refers to commit `H and I`</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log master...feature</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent to</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log master feature <span class="at">--not</span> <span class="va">$(</span><span class="fu">git</span> merge-base <span class="at">--all</span> master feature<span class="va">)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># refers to commit `B, C,D, H and I`</span></span></code></pre></div>
<p>See <code>man gitrevision</code> under <code>SPECIFYING RANGES</code>
section</p>
<h2 id="see-also">See also</h2>
<p>The <strong>best stack overflow</strong> explanation <a
href="https://stackoverflow.com/a/7256391">see here</a></p>
</body>
</html>
